{{- $includeEEAT := .Get "eeat" | default "true" -}}
{{- $layout := .Get "layout" | default "full" -}}
{{- $authorName := .Site.Params.author.name | default .Site.Author.name | default "The Author" -}}
{{- $authorSummary := .Site.Params.author.summary | default .Site.Params.description -}}

<div class="author-bio-section">
  {{- if eq $layout "compact" -}}
    <div class="author-bio-compact">
      <div class="author-info">
        <h3>About {{ $authorName }}</h3>
        {{- with $authorSummary }}<p>{{ . }}</p>{{ end }}

        <div class="author-links">
          {{- range .Site.Params.social -}}
          {{- if or (eq .name "Github") (eq .name "LinkedIn") -}}
          <a href="{{ .url }}" rel="me" class="author-link">{{ .name }}</a>
          {{- end -}}
          {{- end -}}
        </div>
      </div>
    </div>
  {{- else -}}
    {{- if eq $includeEEAT "true" -}}
      {{- partial "author-eeat.html" . -}}
    {{- else -}}
      <div class="author-bio-standard">
        <h2>About {{ $authorName }}</h2>
        {{- with $authorSummary }}<p>{{ . }}</p>{{ else }}<p>{{ i18n "author_bio_default" | default "Stories about software, systems, and the people who build them." }}</p>{{ end }}
      </div>
    {{- end -}}
  {{- end -}}
</div>

{{- if eq $includeEEAT "true" -}}
<style>
  .author-bio-section {
    margin: 2rem 0;
  }

  .author-bio-compact {
    background: var(--color-bg-secondary, #f8f9fa);
    padding: 1.5rem;
    border-radius: 8px;
    border-left: 4px solid var(--color-accent, #007acc);
  }

  .author-bio-compact h3 {
    margin-top: 0;
    color: var(--color-primary, #333);
  }

  .author-links {
    margin-top: 1rem;
  }

  .author-link {
    display: inline-block;
    margin-right: 1rem;
    color: var(--color-accent, #007acc);
    text-decoration: none;
    font-weight: 500;
  }

  .author-link:hover {
    text-decoration: underline;
  }
</style>
{{- end -}}
