{{- /*
  Component: Canonical URL
  Purpose: Proper canonical URL handling for SEO and syndicated content

  Features:
    - Default canonical: Page permalink
    - Custom canonical: Via canonicalUrl in front matter
    - Syndicated content: Adds noindex, follow
    - og:url matching

  Usage:
    {{ partial "components/seo/canonical.html" . }}
*/ -}}

{{- $canonical := .Permalink -}}
{{- $isSyndicated := false -}}

{{- /* Override with custom canonical if specified (for syndicated content) */ -}}
{{- with .Params.canonicalUrl -}}
  {{- $canonical = . -}}
  {{- $isSyndicated = true -}}
{{- end -}}

{{- /* Canonical link tag */ -}}
<link rel="canonical" href="{{ $canonical }}" />

{{- /* If syndicated content, hint not to index but follow links */ -}}
{{- if $isSyndicated -}}
<meta name="robots" content="noindex, follow" />
{{- end -}}

{{- /* Open Graph URL should match canonical */ -}}
<meta property="og:url" content="{{ $canonical }}" />

{{- /* Twitter Card URL */ -}}
<meta name="twitter:url" content="{{ $canonical }}" />
