{{- $profile := site.Data.profile -}}
{{- if $profile -}}
{{- $open := $profile.open_source -}}
{{- if $open -}}
<section class="open-source-projects">
  <h2>{{ $open.heading | default "Open Source Contributions" }}</h2>

  <div class="projects-grid">
    {{- range $open.projects }}
    <div class="project-card{{ if eq .status "Active Collaborator" }} featured{{ end }}">
      <div class="project-header">
        <h3>{{ .title }}</h3>
        {{- with .status }}<div class="project-status">{{ . }}</div>{{ end }}
      </div>
      <div class="project-description">
        {{- with .description }}<p>{{ . }}</p>{{ end }}
        {{- with .tags }}
        <div class="project-tech">
          {{- range . }}<span class="tech-tag">{{ . }}</span>{{ end }}
        </div>
        {{- end }}
      </div>
      {{- if and .link_label .link_url }}
      <div class="project-links">
        <a href="{{ .link_url }}" class="project-link" target="_blank" rel="noopener noreferrer">
          <span class="link-icon">ðŸ’»</span>
          {{ .link_label }}
        </a>
      </div>
      {{- end }}
    </div>
    {{- end }}
  </div>

  {{- with $open.stats }}
  <div class="github-stats">
    <h3>{{ $open.stats_heading | default "GitHub Activity" }}</h3>
    <div class="stats-grid">
      {{- range . }}
      <div class="stat-item">
        {{- with .icon }}<span class="stat-icon">{{ . }}</span>{{ end }}
        <div class="stat-content">
          <strong>{{ .title }}</strong>
          {{- with .description }}<p>{{ . }}</p>{{ end }}
        </div>
      </div>
      {{- end }}
    </div>
  </div>
  {{- end }}
</section>
{{- end -}}
{{- end -}}
